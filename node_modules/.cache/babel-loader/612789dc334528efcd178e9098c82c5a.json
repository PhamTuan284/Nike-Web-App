{"ast":null,"code":"var _jsxFileName = \"/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/login/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport UnAuthenticatedGuard from \"../../components/auth/authentication/unAuthenticatedGuard/UnAuthenticatedGuard\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { postLogin } from \"../../services/apis\";\nimport { userFetchSuccess, userFetchError, useAppSelector, logoutSuccess } from \"../../services/store\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    error\n  } = useAppSelector(state => state.authReducer);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleChange = event => {\n    const newData = { ...formData,\n      [event.target.name]: event.target.value\n    };\n    setFormData(newData);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = formData;\n\n    if (email && password) {\n      postLogin(formData).then(res => {\n        dispatch(userFetchSuccess(res.data));\n        setTimeout(function () {\n          dispatch(logoutSuccess());\n          history.push('/login');\n        }, new Date(res.data.expired).getTime() - new Date().getTime());\n      }).catch(error => {\n        var _error$response, _error$response$data;\n\n        dispatch(userFetchError((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message));\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(UnAuthenticatedGuard, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-center px-5\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"YOUR ACCOUNT FOR EVERYTHING NIKE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"UserName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  required: true,\n                  type: \"email\",\n                  onChange: handleChange,\n                  name: \"email\",\n                  value: formData.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  required: true,\n                  type: \"password\",\n                  onChange: handleChange,\n                  name: \"password\",\n                  value: formData.password\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"w-100\",\n                  type: \"submit\",\n                  variant: \"dark\",\n                  children: \"Sign in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"You don't have an account?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/register\",\n                    className: \"text-danger\",\n                    children: \"Register\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"9eDJxHKn6d1U9ryX6+9Xi2t+9oU=\", false, function () {\n  return [useDispatch, useHistory, useAppSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/login/Login.tsx"],"names":["useState","UnAuthenticatedGuard","Form","Button","Row","Col","Link","useHistory","postLogin","userFetchSuccess","userFetchError","useAppSelector","logoutSuccess","useDispatch","Login","dispatch","history","error","state","authReducer","formData","setFormData","email","password","handleChange","event","newData","target","name","value","handleSubmit","preventDefault","then","res","data","setTimeout","push","Date","expired","getTime","catch","response","message","textAlign"],"mappings":"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","sourcesContent":["import { useState, ChangeEvent, FormEvent } from \"react\";\nimport UnAuthenticatedGuard from \"../../components/auth/authentication/unAuthenticatedGuard/UnAuthenticatedGuard\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { postLogin } from \"../../services/apis\";\nimport {\n  userFetchSuccess,\n  userFetchError,\n  useAppSelector,\n  logoutSuccess,\n} from \"../../services/store\";\nimport { useDispatch } from \"react-redux\";\n\nconst Login = () => {\n  const dispatch = useDispatch()\n  const history = useHistory() as any\n  const { error } = useAppSelector((state) => state.authReducer);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  } as FormData);\n  const handleChange = (event: ChangeEvent<any>): void => {\n    const newData = { ...formData, [event.target.name]: event.target.value };\n    setFormData(newData);\n  };\n  const handleSubmit = (event: FormEvent<HTMLFormElement>): void => {\n    event.preventDefault();\n    const { email, password } = formData;\n    if (email && password) {\n      postLogin(formData)\n        .then((res) => {\n          dispatch(userFetchSuccess(res.data));\n          setTimeout(function () {\n            dispatch(logoutSuccess());\n            history.push('/login')\n          }, new Date(res.data.expired).getTime() - new Date().getTime());\n        })\n        .catch((error) => {\n          dispatch(userFetchError(error.response?.data?.message));\n        });\n    }\n  };\n  return (\n    <>\n      <UnAuthenticatedGuard>\n        <br />\n        <br />\n        <br />\n        <br />\n        <div className=\"container\">\n          <Row>\n            <Col sm={4}></Col>\n            <Col>\n              <h4 className=\"text-center px-5\">\n                <b>YOUR ACCOUNT FOR EVERYTHING NIKE</b>\n              </h4>\n              <br />\n              <p className=\"text-danger\">{error}</p>\n              <Form onSubmit={handleSubmit}>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>UserName</Form.Label>\n                  <Form.Control\n                    required\n                    type=\"email\"\n                    onChange={handleChange}\n                    name=\"email\"\n                    value={formData.email}\n                  />\n                </Form.Group>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control\n                    required\n                    type=\"password\"\n                    onChange={handleChange}\n                    name=\"password\"\n                    value={formData.password}\n                  />\n                </Form.Group>\n                <div style={{ textAlign: \"right\" }}>\n                  <Button className=\"w-100\" type=\"submit\" variant=\"dark\">\n                    Sign in\n                  </Button>\n                  <br />\n                  <br />\n                  <p>\n                    <span>You don't have an account?</span>\n                    <Link to=\"/register\" className=\"text-danger\">\n                      Register\n                    </Link>\n                  </p>\n                </div>\n              </Form>\n            </Col>\n            <Col sm={4}></Col>\n          </Row>\n        </div>\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n      </UnAuthenticatedGuard>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}
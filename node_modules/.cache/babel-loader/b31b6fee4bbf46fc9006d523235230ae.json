{"ast":null,"code":"var _jsxFileName = \"/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/components/admin/UserEditForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport { updateInfo, getDetailUser, deleteUser } from \"../../services/apis\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useAppSelector } from \"../../services/store\";\nimport * as Yup from \"yup\";\nimport AuthenticatedGuard from \"../../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet rules = [\"user\"];\nexport const UserEditForm = _ref => {\n  _s();\n\n  let {\n    usersList\n  } = _ref;\n  const param = useParams();\n  let id = Number(param.id);\n  const history = useHistory();\n  const [reLoad, setReload] = useState(true);\n  const [userEditData, setUserEditData] = useState(null);\n  useEffect(() => {\n    getDetailUser(id).then(res => setUserEditData(res.data)).catch(err => console.log(err));\n  }, [reLoad]);\n  const {\n    nameInput,\n    message\n  } = useAppSelector(state => state.settingsReducer);\n\n  function handleDelete(id) {\n    deleteUser(id).then(res => {\n      alert(\"Delete user successfully!.Go back admin to check\");\n      history.push(\"/admin\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(AuthenticatedGuard, {\n    routeRules: rules,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-3\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-decoration-underline\",\n            children: \"Profile Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-8 mx-auto\",\n          children: userEditData ? /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              email: userEditData.email,\n              address: userEditData.address.address,\n              city: userEditData.address.city,\n              phone: userEditData.phoneNumber,\n              avatar: userEditData.avatar\n            },\n            validationSchema: Yup.object().shape({\n              email: Yup.string().required(\"* Required!\"),\n              address: Yup.string().required(\"* Required!\"),\n              city: Yup.string().required(\"* Required!\"),\n              phone: Yup.string().required(\"* Required!\"),\n              avatar: Yup.string().required(\"* Required!\")\n            }),\n            onReset: () => {},\n            onSubmit: values => {\n              const dataBody = {\n                email: userEditData.email,\n                address: {\n                  address: values.address,\n                  city: values.city\n                },\n                password: userEditData.password,\n                phoneNumber: values.phone + \"\",\n                avatar: values.avatar\n              };\n              updateInfo(userEditData.id, dataBody).then(res => {\n                setReload(!reLoad);\n                alert(\"Setting Successfully!\");\n                setTimeout(() => {\n                  history.push(\"/admin\");\n                }, 1000);\n              }).catch(error => {\n                alert(error.response.data.message);\n              });\n            },\n            children: props => /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"email\",\n                      children: \"Email:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Field, {\n                      value: userEditData.email,\n                      disabled: true,\n                      id: \"email\",\n                      name: \"email\",\n                      type: \"email\",\n                      className: \"form-control my-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                      name: \"email\",\n                      component: \"div\",\n                      className: \"text-danger\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-center py-2 w-100\",\n                      children: !props.values.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"12rem\",\n                          padding: \"1rem\"\n                        },\n                        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRY-hjuFaNMnEAp28Q9Mo7x6QK_IyHnKdOqqA&usqp=CAU\",\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          width: \"12rem\",\n                          padding: \"1rem\"\n                        },\n                        src: props.values.avatar,\n                        alt: \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"address\",\n                        children: \"Address: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        id: \"address\",\n                        name: \"address\",\n                        className: \"form-control my-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"address\",\n                        component: \"div\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"city\",\n                        children: \"City: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        id: \"city\",\n                        name: \"city\",\n                        className: \"form-control my-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"city\",\n                        component: \"div\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"phone\",\n                        children: \"Phone:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        type: \"number\",\n                        id: \"phone\",\n                        name: \"phone\",\n                        className: \"form-control my-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"phone\",\n                        component: \"div\",\n                        className: \"text-danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"avatar\",\n                  children: \"Avatar: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  id: \"avatar\",\n                  name: \"avatar\",\n                  className: \"form-control my-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                  name: \"avatar\",\n                  component: \"div\",\n                  className: \"text-danger\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" d-flex justify-content-between py-2 w-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary my-2  me-2\",\n                    type: \"submit\",\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger my-2  me-2\",\n                    onClick: () => props.setValues({ ...props.values,\n                      address: \"\",\n                      city: \"\",\n                      phone: \"\",\n                      avatar: \"\"\n                    }),\n                    children: \"Clear Form\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-warning me-2\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/admin\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-danger float-right my-2\",\n                    onClick: () => handleDelete(id),\n                    children: \"Delete user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserEditForm, \"IrwTec/pRRuBv/1Q22CQ+k4TWC8=\", false, function () {\n  return [useParams, useHistory, useAppSelector];\n});\n\n_c = UserEditForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserEditForm\");","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/components/admin/UserEditForm.tsx"],"names":["useState","useEffect","ErrorMessage","Field","Form","Formik","Link","updateInfo","getDetailUser","deleteUser","useHistory","useParams","useAppSelector","Yup","AuthenticatedGuard","rules","UserEditForm","usersList","param","id","Number","history","reLoad","setReload","userEditData","setUserEditData","then","res","data","catch","err","console","log","nameInput","message","state","settingsReducer","handleDelete","alert","push","email","address","city","phone","phoneNumber","avatar","object","shape","string","required","values","dataBody","password","setTimeout","error","response","props","width","padding","setValues"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport { Link } from \"react-router-dom\";\nimport {\n  updateInfo,\n  getDetailUser,\n  deleteUser,\n} from \"../../services/apis\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n  useAppSelector,\n} from \"../../services/store\";\nimport * as Yup from \"yup\";\nimport AuthenticatedGuard from \"../../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nlet rules = [\"user\"];\n\ninterface Props {\n  usersList: Array<User>;\n}\n\ninterface Param {\n  id: string;\n}\n\nexport const UserEditForm: React.FC<Props> = ({ usersList }) => {\n  const param: Param = useParams();\n  let id = Number(param.id);\n\n  const history = useHistory();\n  const [reLoad, setReload] = useState(true as boolean);\n  const [userEditData, setUserEditData] = useState(null as null | User);\n\n  useEffect(() => {\n    getDetailUser(id)\n      .then((res) => setUserEditData(res.data))\n      .catch((err) => console.log(err));\n  }, [reLoad]);\n  const { nameInput, message } = useAppSelector(\n    (state) => state.settingsReducer\n  );\n  function handleDelete(id: number) {\n    deleteUser(id).then((res) => {\n      alert(\"Delete user successfully!.Go back admin to check\");\n      history.push(\"/admin\");\n    });\n  }\n  return (\n    <AuthenticatedGuard routeRules={rules}>\n      <div className=\"container my-3\">\n        <div className=\"row\">\n          <div className=\"col-sm-3\">\n            <h4 className=\"text-decoration-underline\">Profile Settings</h4>\n          </div>\n          <div className=\"col-sm-8 mx-auto\">\n            {userEditData ? (\n              <Formik\n                initialValues={{\n                  email: userEditData.email,\n                  address: userEditData.address.address,\n                  city: userEditData.address.city,\n                  phone: userEditData.phoneNumber,\n                  avatar: userEditData.avatar,\n                }}\n                validationSchema={Yup.object().shape({\n                  email: Yup.string().required(\"* Required!\"),\n                  address: Yup.string().required(\"* Required!\"),\n                  city: Yup.string().required(\"* Required!\"),\n                  phone: Yup.string().required(\"* Required!\"),\n                  avatar: Yup.string().required(\"* Required!\"),\n                })}\n                onReset={() => { }}\n                onSubmit={(values) => {\n                  const dataBody: BodyUpdateUser = {\n                    email: userEditData.email,\n                    address: { address: values.address, city: values.city },\n                    password: userEditData.password,\n                    phoneNumber: values.phone + \"\",\n                    avatar: values.avatar,\n                  };\n                  updateInfo(userEditData.id, dataBody)\n                    .then((res) => {\n                      setReload(!reLoad);\n                      alert(\"Setting Successfully!\");\n                      setTimeout(() => {\n                        history.push(\"/admin\");\n                      }, 1000);\n                    })\n                    .catch((error) => {\n                      alert(error.response.data.message);\n                    });\n                }}\n              >\n                {(props) => (\n                  <Form>\n                    <div className=\"form-group\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-6\">\n                          <label htmlFor=\"email\">Email:</label>\n                          <Field\n                            value={userEditData.email}\n                            disabled\n                            id=\"email\"\n                            name=\"email\"\n                            type=\"email\"\n                            className=\"form-control my-2\"\n                          />\n                          <ErrorMessage\n                            name=\"email\"\n                            component=\"div\"\n                            className=\"text-danger\"\n                          />\n                        \n                          <div className=\"d-flex justify-content-center py-2 w-100\">\n                            {!props.values.avatar ? (\n                              <img\n                                style={{ width: \"12rem\", padding: \"1rem\" }}\n                                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRY-hjuFaNMnEAp28Q9Mo7x6QK_IyHnKdOqqA&usqp=CAU\"\n                                alt=\"\"\n                              />\n                            ) : (\n                              <img\n                                style={{ width: \"12rem\", padding: \"1rem\" }}\n                                src={props.values.avatar}\n                                alt=\"\"\n                              />\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"col-sm-6\">\n                          <div className=\"form-group\">\n                            <label htmlFor=\"address\">Address: </label>\n                            <Field\n                              id=\"address\"\n                              name=\"address\"\n                              className=\"form-control my-2\"\n                            />\n                            <ErrorMessage\n                              name=\"address\"\n                              component=\"div\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                          <div className=\"form-group\">\n                            <label htmlFor=\"city\">City: </label>\n                            <Field\n                              id=\"city\"\n                              name=\"city\"\n                              className=\"form-control my-2\"\n                            />\n                            <ErrorMessage\n                              name=\"city\"\n                              component=\"div\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n\n                          <div className=\"form-group\">\n                            <label htmlFor=\"phone\">Phone:</label>\n                            <Field\n                              type=\"number\"\n                              id=\"phone\"\n                              name=\"phone\"\n                              className=\"form-control my-2\"\n                            />\n                            <ErrorMessage\n                              name=\"phone\"\n                              component=\"div\"\n                              className=\"text-danger\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label htmlFor=\"avatar\">Avatar: </label>\n                      <Field\n                        id=\"avatar\"\n                        name=\"avatar\"\n                        className=\"form-control my-2\"\n                      />\n                      <ErrorMessage\n                        name=\"avatar\"\n                        component=\"div\"\n                        className=\"text-danger\"\n                      />\n                    </div>\n                    <div className=\" d-flex justify-content-between py-2 w-100\">\n                      <div className=\"\">\n                        {\" \"}\n                        <button\n                          className=\"btn btn-primary my-2  me-2\"\n                          type=\"submit\"\n                        >\n                          Submit\n                        </button>\n                        <button\n                          className=\"btn btn-danger my-2  me-2\"\n                          onClick={() =>\n                            props.setValues({\n                              ...props.values,\n                              address: \"\",\n                              city: \"\",\n                              phone: \"\",\n                              avatar: \"\",\n                            })\n                          }\n                        >\n                          Clear Form\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning me-2\"\n                        >\n                          <Link to=\"/admin\">Cancel</Link>\n                        </button>\n\n                      </div>\n                      <div>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-danger float-right my-2\"\n                          onClick={() => handleDelete(id)}\n                        >\n                          Delete user\n                        </button>\n\n                      </div>\n                    </div>\n                  </Form>\n                )}\n              </Formik>\n            ) : (\n              \"\"\n            )}\n          </div>\n          <div className=\"col-sm-1\"></div>\n        </div>\n      </div>\n    </AuthenticatedGuard>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
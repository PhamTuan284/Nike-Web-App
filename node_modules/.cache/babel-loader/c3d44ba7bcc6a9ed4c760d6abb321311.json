{"ast":null,"code":"var _jsxFileName = \"/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/OrderHistory.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { NavBarProfile } from \"../components/NavBarProfile\";\nimport { Order } from \"../components/ordersHistory/Order\";\nimport { getOrders } from \"../services/apis/functions/ordersApi\";\nimport { useAppSelector } from \"../services/store\";\nimport AuthenticatedGuard from \"../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nimport { ContextElement } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet rules = [\"user\"];\nexport const OrdersHistory = () => {\n  _s();\n\n  const {\n    dataUser\n  } = useAppSelector(state => state.authReducer);\n  const [orders, setOrders] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  let {\n    setToDashBoard\n  } = useContext(ContextElement);\n  useEffect(() => {\n    setToDashBoard(false);\n\n    if (dataUser) {\n      getOrders(dataUser.id).then(res => {\n        setOrders(res.data);\n        setCurrentPage(1);\n      }).catch(err => console.error(err));\n    }\n  }, [search]);\n  let totalOrders = orders.length;\n  let limit = 3;\n  let totalPage = Math.ceil(totalOrders / limit);\n  let totalPageArr = [];\n\n  for (let i = 0; i < totalPage; i++) {\n    totalPageArr.push(i + 1);\n  }\n\n  function handlePrev() {\n    currentPage > 1 ? setCurrentPage(Number(currentPage) - 1) : setCurrentPage(1);\n  }\n\n  function handleNext() {\n    currentPage < totalPage ? setCurrentPage(Number(currentPage) + 1) : setCurrentPage(totalPage);\n  }\n\n  return /*#__PURE__*/_jsxDEV(AuthenticatedGuard, {\n    routeRules: rules,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(NavBarProfile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control search\",\n          placeholder: \"Search\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), orders.length > 0 ? orders.map((order, index) => limit * (currentPage - 1) <= index && index < limit * currentPage ? /*#__PURE__*/_jsxDEV(Order, {\n          order: order\n        }, order.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this) : null) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: \"History empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), orders.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"home-pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePrev,\n              disabled: currentPage === 1 ? true : false,\n              className: \"page-item-btn\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"page-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNext,\n              disabled: currentPage === totalPage ? true : false,\n              className: \"page-item-btn\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrdersHistory, \"Y78M7C8lu7H9UzeYNQwcDMpRns4=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = OrdersHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrdersHistory\");","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/OrderHistory.tsx"],"names":["useContext","useEffect","useState","NavBarProfile","Order","getOrders","useAppSelector","AuthenticatedGuard","ContextElement","rules","OrdersHistory","dataUser","state","authReducer","orders","setOrders","search","setSearch","currentPage","setCurrentPage","setToDashBoard","id","then","res","data","catch","err","console","error","totalOrders","length","limit","totalPage","Math","ceil","totalPageArr","i","push","handlePrev","Number","handleNext","e","target","value","map","order","index"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { NavBarProfile } from \"../components/NavBarProfile\";\nimport { Order } from \"../components/ordersHistory/Order\";\nimport {\n  getOrders,\n  getOrdersByKey,\n} from \"../services/apis/functions/ordersApi\";\nimport { useAppSelector } from \"../services/store\";\nimport AuthenticatedGuard from \"../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nimport { ContextElement } from \"../App\";\nlet rules = [\"user\"];\n\nexport const OrdersHistory = () => {\n  const { dataUser } = useAppSelector((state) => state.authReducer);\n  const [orders, setOrders] = useState([] as IOrder[]);\n  const [search, setSearch] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n\n  let { setToDashBoard } = useContext(ContextElement);\n\n  useEffect(() => {\n    setToDashBoard(false);\n    if (dataUser) {\n      getOrders(dataUser.id)\n        .then((res) => {\n          setOrders(res.data);\n          setCurrentPage(1);\n        })\n        .catch((err) => console.error(err));\n    }\n  }, [search]);\n\n  let totalOrders = orders.length;\n\n  let limit = 3;\n\n  let totalPage = Math.ceil(totalOrders / limit);\n  let totalPageArr = [];\n  for (let i = 0; i < totalPage; i++) {\n    totalPageArr.push(i + 1);\n  }\n\n  function handlePrev() {\n    currentPage > 1\n      ? setCurrentPage(Number(currentPage) - 1)\n      : setCurrentPage(1);\n  }\n\n  function handleNext() {\n    currentPage < totalPage\n      ? setCurrentPage(Number(currentPage) + 1)\n      : setCurrentPage(totalPage);\n  }\n\n  return (\n    <AuthenticatedGuard routeRules={rules}>\n      <div className=\"container my-3\">\n        <div className=\"col-8 mx-auto\">\n          <NavBarProfile />\n          <input\n            type=\"text\"\n            className=\"form-control search\"\n            placeholder=\"Search\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          {orders.length > 0 ? (\n            orders.map((order, index) =>\n              limit * (currentPage - 1) <= index &&\n              index < limit * currentPage ? (\n                <Order key={order.id} order={order} />\n              ) : null\n            )\n          ) : (\n            <div className=\"mt-3\">History empty</div>\n          )}\n\n          {orders.length > 0 ? (\n            <ul className=\"home-pagination\">\n              <li className=\"page-item\">\n                <button\n                  onClick={handlePrev}\n                  disabled={currentPage === 1 ? true : false}\n                  className=\"page-item-btn\"\n                >\n                  Previous\n                </button>\n              </li>\n              <li className=\"page-item\">\n                <button\n                  onClick={handleNext}\n                  disabled={currentPage === totalPage ? true : false}\n                  className=\"page-item-btn\"\n                >\n                  Next\n                </button>\n              </li>\n            </ul>\n          ) : null}\n        </div>\n      </div>\n    </AuthenticatedGuard>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
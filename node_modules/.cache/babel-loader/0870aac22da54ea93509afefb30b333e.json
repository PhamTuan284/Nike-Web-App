{"ast":null,"code":"var _jsxFileName = \"/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/ProductDetail.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport { ContextElement } from \"../App\";\nimport ProductInfo from \"../components/productDetail/ProductInfo\";\nimport AddCartMessage from \"../components/productDetail/AddCartMessage\";\nimport { useAppSelector } from \"../services/store\";\nimport { postCarts } from \"../services/apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductDetail = _ref => {\n  _s();\n\n  let {\n    products,\n    loading\n  } = _ref;\n  let {\n    addItemToCartMessage,\n    setAddItemToCartMessage,\n    setToDashBoard\n  } = useContext(ContextElement);\n  const {\n    dataUser\n  } = useAppSelector(state => state.authReducer);\n  let param = useParams();\n  let id = param.id;\n  let currentProduct = products.filter(product => product.id === Number(id))[0];\n  const [colorValue, setColorValue] = useState(0);\n  const [sizeValue, setSizeValue] = useState(\"EU 38.5\");\n\n  function handleAddCart() {\n    let itemInfo = {\n      urlImg: currentProduct.colorimg[colorValue],\n      productName: currentProduct.name,\n      size: sizeValue,\n      price: currentProduct.price\n    };\n\n    if (dataUser) {\n      postCarts(dataUser.id, itemInfo).then(res => {}).catch(err => console.error(err));\n      setAddItemToCartMessage(true);\n      document.body.classList.add(\"stopScrolling\");\n    } else {\n      setAddItemToCartMessage(true);\n      document.body.classList.add(\"stopScrolling\");\n    }\n  }\n\n  function handleChooseColor(imgUrl) {\n    for (let i = 0; i < currentProduct.colorimg.length; i++) {\n      currentProduct.colorimg[i] === imgUrl ? setColorValue(i) : setColorValue(0);\n    }\n  }\n\n  function handleChooseSize(size) {\n    setSizeValue(size);\n  }\n\n  useEffect(() => {\n    setToDashBoard(false);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: currentProduct === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(AddCartMessage, {\n        addItemToCartMessage: addItemToCartMessage,\n        setAddItemToCartMessage: setAddItemToCartMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-border\",\n              role: \"status\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"visually-hidden\",\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this) : currentProduct.detailimg.map(imgUrl => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imgUrl,\n                alt: \"img\",\n                className: \"mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 23\n              }, this)\n            }, imgUrl, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(ProductInfo, {\n          currentProduct: currentProduct,\n          colorValue: colorValue,\n          handleChooseColor: handleChooseColor,\n          sizeValue: sizeValue,\n          handleChooseSize: handleChooseSize,\n          handleAddCart: handleAddCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductDetail, \"BL/khdaQOyz1d9wpH6b8JVwGdYY=\", false, function () {\n  return [useAppSelector, useParams];\n});\n\n_c = ProductDetail;\nexport default _c2 = /*#__PURE__*/memo(ProductDetail);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductDetail\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/ProductDetail.tsx"],"names":["React","memo","useEffect","useParams","useContext","useState","ContextElement","ProductInfo","AddCartMessage","useAppSelector","postCarts","ProductDetail","products","loading","addItemToCartMessage","setAddItemToCartMessage","setToDashBoard","dataUser","state","authReducer","param","id","currentProduct","filter","product","Number","colorValue","setColorValue","sizeValue","setSizeValue","handleAddCart","itemInfo","urlImg","colorimg","productName","name","size","price","then","res","catch","err","console","error","document","body","classList","add","handleChooseColor","imgUrl","i","length","handleChooseSize","undefined","detailimg","map"],"mappings":"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","sourcesContent":["import React, { memo, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport { ContextElement } from \"../App\";\nimport ProductInfo from \"../components/productDetail/ProductInfo\";\nimport AddCartMessage from \"../components/productDetail/AddCartMessage\";\nimport { useAppSelector } from \"../services/store\";\nimport { postCarts } from \"../services/apis\";\n\ninterface Props {\n  products: Array<Product>;\n  loading: boolean;\n}\n\ninterface Param {\n  id: string;\n}\n\nconst ProductDetail: React.FC<Props> = ({ products, loading }) => {\n  let { addItemToCartMessage, setAddItemToCartMessage, setToDashBoard } =\n    useContext(ContextElement);\n  const { dataUser } = useAppSelector((state) => state.authReducer);\n  let param: Param = useParams();\n  let id = param.id;\n  let currentProduct = products.filter(\n    (product: Product) => product.id === Number(id)\n  )[0];\n\n  const [colorValue, setColorValue] = useState(0);\n  const [sizeValue, setSizeValue] = useState(\"EU 38.5\");\n\n  function handleAddCart() {\n    let itemInfo = {\n      urlImg: currentProduct.colorimg[colorValue],\n      productName: currentProduct.name,\n      size: sizeValue,\n      price: currentProduct.price,\n    };\n\n    if (dataUser) {\n      postCarts(dataUser.id, itemInfo)\n        .then((res) => {})\n        .catch((err) => console.error(err));\n      setAddItemToCartMessage(true);\n      document.body.classList.add(\"stopScrolling\");\n    } else {\n      setAddItemToCartMessage(true);\n      document.body.classList.add(\"stopScrolling\");\n    }\n  }\n\n  function handleChooseColor(imgUrl: string) {\n    for (let i = 0; i < currentProduct.colorimg.length; i++) {\n      currentProduct.colorimg[i] === imgUrl\n        ? setColorValue(i)\n        : setColorValue(0);\n    }\n  }\n\n  function handleChooseSize(size: string) {\n    setSizeValue(size);\n  }\n\n  useEffect(() => {\n    setToDashBoard(false);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      {currentProduct === undefined ? (\n        <div className=\"d-flex justify-content-center\">\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      ) : (\n        <div className=\"row mt-4\">\n          <AddCartMessage\n            addItemToCartMessage={addItemToCartMessage}\n            setAddItemToCartMessage={setAddItemToCartMessage}\n          />\n          <div className=\"col-md-8 col-12\">\n            <div className=\"row\">\n              {loading ? (\n                <div className=\"d-flex justify-content-center\">\n                  <div className=\"spinner-border\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                  </div>\n                </div>\n              ) : (\n                currentProduct.detailimg.map((imgUrl: string) => {\n                  return (\n                    <div className=\"col-6\" key={imgUrl}>\n                      <img src={imgUrl} alt=\"img\" className=\"mb-3\"></img>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n          </div>\n\n          <div className=\"col-md-4 col-12\">\n            <ProductInfo\n              currentProduct={currentProduct}\n              colorValue={colorValue}\n              handleChooseColor={handleChooseColor}\n              sizeValue={sizeValue}\n              handleChooseSize={handleChooseSize}\n              handleAddCart={handleAddCart}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default memo(ProductDetail);\n"]},"metadata":{},"sourceType":"module"}
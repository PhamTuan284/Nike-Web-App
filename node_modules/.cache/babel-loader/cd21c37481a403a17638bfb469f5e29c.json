{"ast":null,"code":"import { USER_FETCH_SUCCESS, USER_FETCH_ERROR, LOGOUT_SUCCESS } from \"../types/ActionTypes\";\nconst initState = {\n  dataUser: null,\n  error: null,\n  isAuth: false\n};\n\nfunction authReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case USER_FETCH_SUCCESS:\n      window.localStorage.setItem(\"token\", action.payload.token);\n      return { ...state,\n        dataUser: action.payload,\n        error: null,\n        isAuth: true\n      };\n\n    case USER_FETCH_ERROR:\n      return { ...state,\n        dataUser: null,\n        error: action.payload,\n        isAuth: false\n      };\n\n    case LOGOUT_SUCCESS:\n      window.localStorage.removeItem(\"token\");\n      return initState;\n\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/services/store/reducer/authReducer.ts"],"names":["USER_FETCH_SUCCESS","USER_FETCH_ERROR","LOGOUT_SUCCESS","initState","dataUser","error","isAuth","authReducer","state","action","type","window","localStorage","setItem","payload","token","removeItem"],"mappings":"AAAA,SACEA,kBADF,EAGEC,gBAHF,EAKEC,cALF,QAOO,sBAPP;AAeA,MAAMC,SAAoB,GAAG;AAC3BC,EAAAA,QAAQ,EAAE,IADiB;AAE3BC,EAAAA,KAAK,EAAE,IAFoB;AAG3BC,EAAAA,MAAM,EAAE;AAHmB,CAA7B;;AAMA,SAASC,WAAT,GAGE;AAAA,MAFAC,KAEA,uEAFmBL,SAEnB;AAAA,MADAM,MACA;;AACA,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,kBAAL;AACEW,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCJ,MAAM,CAACK,OAAP,CAAeC,KAApD;AACA,aAAO,EACL,GAAGP,KADE;AAELJ,QAAAA,QAAQ,EAAEK,MAAM,CAACK,OAFZ;AAGLT,QAAAA,KAAK,EAAE,IAHF;AAILC,QAAAA,MAAM,EAAE;AAJH,OAAP;;AAMF,SAAKL,gBAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELJ,QAAAA,QAAQ,EAAE,IAFL;AAGLC,QAAAA,KAAK,EAAEI,MAAM,CAACK,OAHT;AAILR,QAAAA,MAAM,EAAE;AAJH,OAAP;;AAMF,SAAKJ,cAAL;AACES,MAAAA,MAAM,CAACC,YAAP,CAAoBI,UAApB,CAA+B,OAA/B;AACA,aAAOb,SAAP;;AACF;AACE,aAAOK,KAAP;AApBJ;AAsBD;;AAED,eAAeD,WAAf","sourcesContent":["import {\n  USER_FETCH_SUCCESS,\n  IUserFetchSuccess,\n  USER_FETCH_ERROR,\n  IUserFetchError,\n  LOGOUT_SUCCESS,\n  ILogoutSuccess,\n} from \"../types/ActionTypes\";\n\ninterface AuthState {\n  dataUser: User|null;\n  error: any;\n  isAuth: boolean;\n}\n\nconst initState: AuthState = {\n  dataUser: null,\n  error: null,\n  isAuth: false,\n};\n\nfunction authReducer(\n  state: AuthState = initState,\n  action: IUserFetchSuccess | IUserFetchError | ILogoutSuccess\n) {\n  switch (action.type) {\n    case USER_FETCH_SUCCESS:\n      window.localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        dataUser: action.payload,\n        error: null,\n        isAuth: true,\n      };\n    case USER_FETCH_ERROR:\n      return {\n        ...state,\n        dataUser: null,\n        error: action.payload,\n        isAuth: false,\n      };\n    case LOGOUT_SUCCESS:\n      window.localStorage.removeItem(\"token\");\n      return initState;\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;\n"]},"metadata":{},"sourceType":"module"}
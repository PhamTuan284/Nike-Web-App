{"ast":null,"code":"var _jsxFileName = \"/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/Cart.tsx\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport { memo, useContext, useEffect, useState } from \"react\";\nimport { ContextElement } from \"../App\";\nimport Summary from \"../components/cart/Summary\";\nimport ItemsInCart from \"../components/cart/ItemsInCart/ItemsInCart\";\nimport { useAppSelector } from \"../services/store\";\nimport { deleteCarts } from \"../services/apis\";\nimport AuthenticatedGuard from \"../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet rules = [\"user\"];\n\nfunction Cart() {\n  _s();\n\n  let {\n    itemsInCart,\n    setToDashBoard\n  } = useContext(ContextElement);\n  const {\n    dataUser\n  } = useAppSelector(state => state.authReducer);\n  let shipping = 20;\n\n  let getSubTotal = itemsInCart => {\n    let price = itemsInCart.map(item => item.price);\n\n    if (price.length > 0) {\n      return price.reduce((a, b) => a + b);\n    } else {\n      return 0;\n    }\n  };\n\n  const [subTotal, setSubTotal] = useState(getSubTotal(itemsInCart));\n\n  function subTotalCal(items) {\n    let newSubTotal = getSubTotal(items);\n    setSubTotal(newSubTotal);\n  }\n\n  function handleDeleteBtn(index) {\n    if (dataUser) {\n      deleteCarts(dataUser.id, index).then(res => {\n        subTotalCal(res.data);\n      }).catch(err => console.log(err));\n    }\n  }\n\n  let total = subTotal + shipping;\n  useEffect(() => {\n    setToDashBoard(false);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AuthenticatedGuard, {\n      routeRules: rules,\n      children: itemsInCart.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-5 mb-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-3\",\n              children: \"Bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bag-items\",\n              children: /*#__PURE__*/_jsxDEV(ItemsInCart, {\n                itemsInCart: itemsInCart,\n                handleDeleteBtn: handleDeleteBtn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(Summary, {\n              subTotal: subTotal,\n              shipping: shipping,\n              total: total\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container  mt-5 mb-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-3\",\n              children: \"Bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bag-items\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Your bag is empty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/products\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-dark\",\n                  children: \"Back to shop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Cart, \"leHkTu9a4rcemJX/kwcgHrRVato=\", false, function () {\n  return [useAppSelector];\n});\n\n_c = Cart;\nexport default _c2 = /*#__PURE__*/memo(Cart);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Cart\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Tuan/Desktop/FPT/Mock/Nike-ReactTs-CLient/src/pages/Cart.tsx"],"names":["Link","memo","useContext","useEffect","useState","ContextElement","Summary","ItemsInCart","useAppSelector","deleteCarts","AuthenticatedGuard","rules","Cart","itemsInCart","setToDashBoard","dataUser","state","authReducer","shipping","getSubTotal","price","map","item","length","reduce","a","b","subTotal","setSubTotal","subTotalCal","items","newSubTotal","handleDeleteBtn","index","id","then","res","data","catch","err","console","log","total"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\nimport { memo, useContext, useEffect, useState } from \"react\";\nimport { ContextElement } from \"../App\";\nimport Summary from \"../components/cart/Summary\";\nimport ItemsInCart from \"../components/cart/ItemsInCart/ItemsInCart\";\nimport { useAppSelector } from \"../services/store\";\nimport { deleteCarts } from \"../services/apis\";\nimport AuthenticatedGuard from \"../components/auth/authentication/authenticatedGuard/AuthenticatedGuard\";\nlet rules = [\"user\"];\n\nfunction Cart() {\n  let { itemsInCart, setToDashBoard } = useContext(ContextElement);\n  const { dataUser } = useAppSelector((state) => state.authReducer);\n  let shipping = 20;\n  let getSubTotal = (itemsInCart: CartItem[]) => {\n    let price = itemsInCart.map((item: CartItem) => item.price);\n    if (price.length > 0) {\n      return price.reduce((a: number, b: number) => a + b);\n    } else {\n      return 0;\n    }\n  };\n\n  const [subTotal, setSubTotal] = useState(getSubTotal(itemsInCart));\n\n  function subTotalCal(items: CartItem[]) {\n    let newSubTotal = getSubTotal(items);\n    setSubTotal(newSubTotal);\n  }\n\n  function handleDeleteBtn(index: string) {\n    if (dataUser) {\n      deleteCarts(dataUser.id, index)\n        .then((res) => {\n          subTotalCal(res.data);\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  let total = subTotal + shipping;\n\n  useEffect(() => {\n    setToDashBoard(false);\n  }, []);\n\n  return (\n    <>\n      <AuthenticatedGuard routeRules={rules}>\n        {itemsInCart.length > 0 ? (\n          <div className=\"container mt-5 mb-5\">\n            <div className=\"row\">\n              <div className=\"col-12 col-md-8\">\n                <h2 className=\"mb-3\">Bag</h2>\n                <div className=\"bag-items\">\n                  <ItemsInCart\n                    itemsInCart={itemsInCart}\n                    handleDeleteBtn={handleDeleteBtn}\n                  />\n                </div>\n              </div>\n\n              <div className=\"col-12 col-md-4\">\n                <Summary\n                  subTotal={subTotal}\n                  shipping={shipping}\n                  total={total}\n                />\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"container  mt-5 mb-5\">\n            <div className=\"row\">\n              <div className=\"col-12 col-md-8\">\n                <h2 className=\"mb-3\">Bag</h2>\n                <div className=\"bag-items\">\n                  <h2>Your bag is empty</h2>\n                  <Link to=\"/products\">\n                    <button type=\"button\" className=\"btn btn-dark\">\n                      Back to shop\n                    </button>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </AuthenticatedGuard>\n    </>\n  );\n}\n\nexport default memo(Cart);\n"]},"metadata":{},"sourceType":"module"}